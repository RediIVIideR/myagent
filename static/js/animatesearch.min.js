const texts=["Search for a property...","Enter suitable location...","Search for a good investment..."],input=document.querySelector("#search_backend"),animationWorker=function(t,i){this.input=t,this.defaultPlaceholder=this.input.getAttribute("placeholder"),this.texts=i,this.curTextNum=0,this.curPlaceholder="",this.blinkCounter=0,this.animationFrameId=0,this.animationActive=!1,this.input.setAttribute("placeholder",this.curPlaceholder),this.switch=t=>{this.input.classList.add("imitatefocus"),setTimeout((()=>{this.input.classList.remove("imitatefocus"),0==this.curTextNum?this.input.setAttribute("placeholder",this.defaultPlaceholder):this.input.setAttribute("placeholder",this.curPlaceholder),setTimeout((()=>{this.input.setAttribute("placeholder",this.curPlaceholder),this.animationActive&&(this.animationFrameId=window.requestAnimationFrame(this.animate))}),t)}),t)},this.animate=()=>{if(!this.animationActive)return;if(this.clicked)return void this.input.setAttribute("placeholder"," ");let t=this.texts[this.curTextNum],i=900;if(this.curPlaceholder==t+"|"&&3==this.blinkCounter)return this.blinkCounter=0,this.curTextNum=this.curTextNum>=this.texts.length-1?0:this.curTextNum+1,this.curPlaceholder="|",void this.switch(1500);this.curPlaceholder==t+"|"&&this.blinkCounter<3?(this.curPlaceholder=t,this.blinkCounter++):this.curPlaceholder==t&&this.blinkCounter<3?this.curPlaceholder=this.curPlaceholder+"|":(this.curPlaceholder=t.split("").slice(0,this.curPlaceholder.length+1).join("")+"|",i=100),this.input.setAttribute("placeholder",this.curPlaceholder),setTimeout((()=>{this.animationActive&&(this.animationFrameId=window.requestAnimationFrame(this.animate))}),i)},this.stop=()=>{this.animationActive=!1,window.cancelAnimationFrame(this.animationFrameId)},this.start=()=>(this.animationActive=!0,this.animationFrameId=window.requestAnimationFrame(this.animate),this)};document.addEventListener("DOMContentLoaded",(()=>{let t=new animationWorker(input,texts).start();input.addEventListener("focus",(i=>t.stop())),input.addEventListener("blur",(i=>{t=new animationWorker(input,texts),""==i.target.value&&setTimeout(t.start,1500)}))}));