function uncheck_all(){for(var e=document.querySelectorAll('input[type="checkbox"]'),c=0;c<e.length;c++){e[c].checked=!1}}function check_search(e){var c="";c=e.includes("?page")||e.includes("?loc")||e.includes("?developer")?e:"?";var t=document.getElementById("search_backend").value;c=c+"&keyword="+t;var n=document.querySelectorAll(".accommodation"),o=document.querySelectorAll(".location"),l=document.querySelectorAll(".developer"),r=document.querySelectorAll(".bedding");n=Array.from(n),o=Array.from(o),l=Array.from(l),n.forEach((e=>{e.checked&&(c=c+"&type="+e.value)})),o.forEach((e=>{e.checked&&(c=c+"&loc="+e.value)})),l.forEach((e=>{e.checked&&(c=c+"&developer="+e.value)})),r.forEach((e=>{e.checked&&(c=c+"&bed="+e.value)})),fetch("/searching"+c,{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.text())).then((e=>{document.getElementById("res").innerHTML=e}))}document.addEventListener("DOMContentLoaded",(function(){function e(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===c?"":decodeURIComponent(c[1].replace(/\+/g," "))}var c=e("loc");if(location.search.includes("?loc")){c=e("loc");document.querySelector('input[value="'+c+'"]').checked=!0}else if(location.search.includes("?type")){c=e("type");document.querySelector('input[value="'+c+'"]').checked=!0}else if(location.search.includes("?developer")){c=e("developer");document.querySelector('input[value="'+c+'"]').checked=!0}})),document.addEventListener("DOMSubtreeModified",(function(){for(var e=document.getElementsByClassName("page-link"),c=document.getElementsByClassName("one-filter-location"),t=document.getElementsByClassName("one-filter-developer"),n=0;n<e.length;n++)e[n].addEventListener("click",(function(e){page=this.getAttribute("href"),e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),check_search(page)}));for(n=0;n<c.length;n++)c[n].addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"});var c=this.getAttribute("href");uncheck_all();var t=document.querySelector('input[type="checkbox"][value="'+c+'"]');t&&(t.checked=!0),check_search("")}));for(n=0;n<t.length;n++)t[n].addEventListener("click",(function(e){e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"});var c=this.getAttribute("href");uncheck_all();for(var t=document.querySelectorAll('input[type="checkbox"]'),n=0;n<t.length;n++){var o=t[n];if(o.value.includes(c)){o.checked=!0;break}}check_search("")}))})),document.getElementById("search_backend").oninput=function(){check_search("")},document.getElementById("apply").addEventListener("click",(function(){check_search("")})),document.getElementById("clear").addEventListener("click",(function(){uncheck_all(),check_search("")}));